function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var n=o("43bai"),i=o("h2iSt"),s=o("2shzp"),l=new WeakMap,u=new WeakMap;var c=o("fZKcF"),d=o("cgQaQ"),f=o("iQIUW");const h=document.getElementById("search-bar"),y=document.querySelector(".gallery"),g=new class{fetchPhotoByQuery(){return e(s).get(`${(0,n.default)(this,l)}`,{params:{key:(0,n.default)(this,u),q:this.query,image_type:"photo",orientation:"horizontal",safesearch:!0,page:this.page,per_page:20}})}constructor(){(0,i.default)(this,l,{writable:!0,value:"https://pixabay.com/api/"}),(0,i.default)(this,u,{writable:!0,value:"28742881-7ed4fdaa96807499761d63f05"}),this.page=1,this.query=null}},p=new(e(c))(".gallery__item a",{captionsDelay:250});h.addEventListener("submit",(async function(e){e.preventDefault(),g.query=e.currentTarget.elements.search.value,g.page=1;try{const t=await g.fetchPhotoByQuery();if(console.log(t.data),0===t.data.totalHits)return y.innerHTML="",e.target.reset(),void f.Notify.failure("Sorry, there are no images matching your search query. Please try again.");if(g.page===t.data.totalHits)return y.innerHTML=(0,d.default)(t.data.hits),void f.Notify.success(`Hooray! We found ${t.data.totalHits} images.`);f.Notify.success(`Hooray! We found ${t.data.totalHits} images.`),y.innerHTML=(0,d.default)(t.data.hits),p.refresh(),v.observe(document.querySelector(".for-infinity-scroll"))}catch(e){console.log(e)}}));const v=new IntersectionObserver((e=>{e[0].isIntersecting&&async function(){g.page+=1,console.log("object");try{const e=await g.fetchPhotoByQuery();e.data.hits.length<20&&(f.Notify.info("We're sorry, but you've reached the end of search results."),v.unobserve(document.querySelector(".for-infinity-scroll"))),y.insertAdjacentHTML("beforeend",(0,d.default)(e.data.hits)),p.refresh()}catch(e){console.log(e)}}()}),{root:null,rootMargin:"50px",threshold:.01});
//# sourceMappingURL=infinity.44e5cea7.js.map
